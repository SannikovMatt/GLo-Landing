(()=>{"use strict";function e(e,n){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,s,a,l,c,u,d,f,p,h,v,m,y,b,S,g,w,L,_,E,T=function(){function e(t){var n=t.main,o=t.wrap,r=t.next,i=t.prev,s=t.position,a=void 0===s?0:s,l=t.slidesToShow,c=void 0===l?3:l,u=t.infinity,d=void 0!==u&&u,f=t.responsive,p=void 0===f?[]:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=document.querySelector(n),this.wrap=document.querySelector(o),this.slides=this.wrap.children,this.next=document.querySelector(r),this.prev=document.querySelector(i),this.slidesToShow=c,this.options={position:a,slidesWidth:Math.floor(100/this.slidesToShow),infinity:d},this.responsive=p}var t,i;return t=e,(i=[{key:"init",value:function(){this.addClass(),this.addStyles(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}},{key:"responseInit",value:function(){var e,t=this,r=this.slidesToShow,i=this.responsive.map((function(e){return e.breakpoint})),s=Math.max.apply(Math,function(e){if(Array.isArray(e))return o(e)}(e=i)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=function(){var e=document.documentElement.clientWidth;if(e<s)for(var n=0;n<i.length;n++)e<i[n]&&(t.slidesToShow=t.responsive[n].slidesToShow,t.options.slidesWidth=Math.floor(100/t.slidesToShow),t.addStyles());else t.slidesToShow=r,t.options.slidesWidth=Math.floor(100/t.slidesToShow),t.addStyles()};a(),window.addEventListener("resize",a)}},{key:"addClass",value:function(){this.main.classList.add("carousel-slider"),this.wrap.classList.add("carousel-slider__wrap");var e,t=function(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=n(e))){o&&(e=o);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw s}}}}(this.slides);try{for(t.s();!(e=t.n()).done;)e.value.classList.add("carousel-slider__item")}catch(e){t.e(e)}finally{t.f()}}},{key:"addStyles",value:function(){var e=document.getElementById("sliderCarousel-style");e||((e=document.createElement("style")).id="sliderCarousel-style"),e.textContent="\n      \n        .carousel-slider {\n            overflow: hidden !important;\n        }\n        \n        .carousel-slider__wrap {\n            display: flex !important;\n            transition: transform 0.5s !important;\n            will-change: transform !important;\n        }\n        \n        .carousel-slider__item {\n            display: flex !important;\n            align-items: center !important;\n            justify-content: center !important;\n            margin: auto 0 !important;\n            flex: 0 0 ".concat(this.options.slidesWidth,"% !important;\n        }\n\n        "),document.head.appendChild(e)}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform="\n        translateX(-".concat(this.options.position*this.options.slidesWidth,"%)"))}},{key:"nextSlider",value:function(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform="\n        translateX(-".concat(this.options.position*this.options.slidesWidth,"%)"))}},{key:"addArrow",value:function(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.classList.add("carousel_slider__prev"),this.next.classList.add("carousel_slider__next"),this.main.appendChild(this.prev),this.main.appendChild(this.next);var e=document.createElement("style");e.textContent="\n        .carousel_slider__prev, \n        .carousel_slider__next {\n            margin: 0 10px;\n            border: 20px solid transparent;\n            background: transparent;\n        }\n        \n        .carousel_slider__next {\n            border-left-color: #19bbff;\n        }\n        \n        .carousel_slider__prev {\n            border-right-color: #19bbff;\n        }\n        \n        .carousel_slider__prev:focus, \n        .carousel_slider__prev:hover, \n        .carousel_slider__next:focus, \n        .carousel_slider__next:hover {\n            background: transparent;\n            outline: transparent;\n        }\n        ",document.head.appendChild(e)}}])&&r(t.prototype,i),e}();w="2021/12/31",L=document.querySelector("#timer-hours"),_=document.querySelector("#timer-minutes"),E=document.querySelector("#timer-seconds"),function e(){var t,n,o,r,i=(t=(new Date(w).getTime()-(new Date).getTime())/1e3,(n=Math.floor(t%60))<9&&(n="0"+n),(o=Math.floor(t/60%60))<9&&(o="0"+o),(r=Math.floor(t/60/60))<9&&(r="0"+r),{timeRemaining:t,hours:r,min:o,seconds:n});i.timeRemaining>0?(L.innerHTML=i.hours,_.innerHTML=i.min,E.innerHTML=i.seconds,setTimeout(e,1e3)):(L.innerHTML="00",_.innerHTML="00",E.innerHTML="00")}(),document.body.addEventListener("click",(function(e){var t=document.querySelector("menu"),n=e.target,o=function(){t.classList.toggle("active-menu")},r=function(e){var t=e.getAttribute("href");document.querySelector("".concat(t)).scrollIntoView({behavior:"smooth"})};n.closest("menu")||(t=document.querySelector("menu")).classList.contains("active-menu")&&o(),n.closest(".menu")&&n.closest(".menu")&&o(),n.closest("menu")&&(e.preventDefault(),n.closest(".close-btn")?o():n.closest("a")&&(t.classList.contains("active-menu")&&o(),r(n.closest("a")))),n.closest('main a[href="#service-block"]')&&(e.preventDefault(),t.classList.contains("active-menu")&&o(),r(n.closest("a")))})),b=document.querySelector(".popup"),S=document.querySelectorAll(".popup-btn"),g=b.querySelector(".popup-content"),S.forEach((function(e){e.addEventListener("click",(function(){var e,t;b.style.display="block",t=1,b.style.display="block",screen.width<768||function n(){t>=10?cancelAnimationFrame(e):(g.style.top=t+"%",t+=(parseInt(g.style.top)-t)/7+1,e=requestAnimationFrame(n))}()}))})),b.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?b.style.display="none":t.closest(".popup-content")||(b.style.display="none")})),v=document.querySelector(".service-header"),m=v.querySelectorAll(".service-header-tab"),y=document.querySelectorAll(".service-tab"),v.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&m.forEach((function(e,n){var o;e===t&&(o=n,y.forEach((function(e,t){o===t?(e.classList.remove("d-none"),m[t].classList.add("active")):(e.classList.add("d-none"),m[t].classList.remove("active"))})))}))})),s=document.querySelector(".portfolio-content"),a=s.querySelectorAll(".portfolio-item"),l=s.querySelector(".portfolio-dots"),c=0,u=s.querySelectorAll(".dot"),d=function(e,t,n){e[t].classList.add(n)},f=function(e,t,n){e[t].classList.remove(n)},p=function(){f(a,c,"portfolio-item-active"),f(u,c,"dot-active"),++c>=a.length&&(c=0),d(a,c,"portfolio-item-active"),d(u,c,"dot-active")},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;i=setInterval(p,e)},s.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".dot, .portfolio-btn")&&(f(a,c,"portfolio-item-active"),f(u,c,"dot-active"),t.matches("#arrow-right")?c++:t.matches("#arrow-left")?c--:t.matches(".dot")&&u.forEach((function(e,n){e===t&&(c=n)})),c>=a.length?c=0:c<0&&(c=a.length-1),d(a,c,"portfolio-item-active"),d(u,c,"dot-active"))})),s.addEventListener("mouseover",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&clearInterval(i)})),s.addEventListener("mouseout",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&h()})),a.forEach((function(){l.insertAdjacentHTML("beforeend",'<li class="dot"></li>')})),(u=s.querySelectorAll(".dot"))[0].classList.add("dot-active"),h(2e3),new T({main:".companies-wrapper",wrap:".companies-hor",prev:"#test-left",next:"#test-right",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),document.querySelector("#command").addEventListener("mouseover",(function(e){var t=e.target;if(t.closest(".command__photo")){var n=t.closest(".command__photo"),o=n.getAttribute("src");n.src=n.dataset.img,n.addEventListener("mouseleave",(function e(){n.src=o,n.removeEventListener("mouseleave",e)}))}})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.getElementById("calc"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),i=document.getElementById("total"),s=document.querySelector(".calc-count"),a=function(){var t=0,a=1,l=1,c=n.options[n.selectedIndex].value,u=+o.value;s.value>1&&(a+=(s.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),c&&u&&(t=e*c*u*a*l);var d=0,f=setInterval((function(){i.textContent=d,((d+=parseInt(t/20))>=t||d+t/20>t)&&(i.textContent=parseInt(t),clearInterval(f),d=0)}),20)};t.addEventListener("change",(function(e){var t=e.target;[n,o,r,s].includes(t)&&a()})),t.addEventListener("input",(function(e){var t=e.target.closest(".calc-item");t&&!t.classList.contains("calc-type")&&(t.value=t.value.replace(/[^0-9]/,""))}))}(100),function(){var t,n=document.createElement("div"),o=!1;n.style.color="white",window.addEventListener("submit",(function(o){var i=o.target;if(i.closest("#".concat(i.id))){var s=i.closest("#".concat(i.id));if(o.preventDefault(),s.appendChild(n),!r(s))return t&&clearTimeout(t),void(t=setTimeout((function(){n.textContent=""}),3e3));n.classList.toggle("loader");var a,l={},c=e(new FormData(s).entries());try{for(c.s();!(a=c.n()).done;){var u=a.value;l[u[0]]=u[1]}}catch(e){c.e(e)}finally{c.f()}(function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error(e.status)}))})(l).then((function(){n.classList.toggle("loader"),n.textContent="Сообщение отправлено",setTimeout((function(){n.textContent=""}),5e3),s.reset()})).catch((function(e){n.classList.toggle("loader"),n.textContent="Чтото пошло не так",console.error(e)}))}}));var r=function(t){var r,i=e(t.querySelectorAll("input"));try{for(i.s();!(r=i.n()).done;){var s=r.value;if("email"===s.id.split("-")[1]&&!(o=/[\w0-9.]+@\w+\.\w{0,6}/i.test(s.value)))return n.innerHTML="Заявка не отправлена <br/>Проверьте корректность емаил..",o}}catch(e){i.e(e)}finally{i.f()}return o};document.addEventListener("input",(function(e){var t=e.target;if(t.closest("form")){var n=t.id.split("-")[1];"message"===n?t.value=t.value.replace(/[A-Za-z]/,""):"phone"===n?t.value=t.value.replace(/[^\+{,1}(\d+)$]/g,""):"name"===n?t.value=t.value.replace(/[^а-я ]/gi,""):"email"===n&&(t.value=t.value.replace(/[^@.0-9\w]/gi,""))}}))}()})();